import{r as u,R as g,a as k}from"./index-Bi0AoGg4.js";import{u as P,c as b,a as v,b as G,d as f,e as y,f as w,g as h,h as F,i as U,j as _,L as S,k as W,l as Z,m as R,n as z,o as I,p as N,w as H}from"./media-overlay-BYfzI6IZ.js";import{a as c}from"./leaflet-src-f1yG0o_k.js";function V(){return P().map}function re(o,n){const e=V();return u.useEffect(function(){return e.on(o,n),function(){e.off(o,n)}},[e,o,n]),e}function le(o){const n=V();return u.useEffect(function(){return n.on(o),function(){n.off(o)}},[n,o]),n}const ue=b(function(n){return new c.Control.Attribution(n)}),ce=v(function({center:n,children:e,...t},a){const r=new c.Circle(n,t);return f(r,y(a,{overlayContainer:r}))},G),ie=v(function({center:n,children:e,...t},a){const r=new c.CircleMarker(n,t);return f(r,y(a,{overlayContainer:r}))},G),se=v(function({children:n,...e},t){const a=new c.FeatureGroup([],e);return f(a,y(t,{layerContainer:a,overlayContainer:a}))}),fe=v(function({data:n,...e},t){const a=new c.GeoJSON(n,e);return f(a,y(t,{overlayContainer:a}))},function(n,e,t){e.style!==t.style&&(e.style==null?n.resetStyle():n.setStyle(e.style))}),de=w(function({bounds:n,url:e,...t},a){const r=new c.ImageOverlay(e,n,t);return f(r,y(a,{overlayContainer:r}))},function(n,e,t){if(h(n,e,t),e.bounds!==t.bounds){const a=e.bounds instanceof c.LatLngBounds?e.bounds:new c.LatLngBounds(e.bounds);n.setBounds(a)}e.url!==t.url&&n.setUrl(e.url)}),ye=w(function({children:n,...e},t){const a=new c.LayerGroup([],e);return f(a,y(t,{layerContainer:a}))}),D=_(function({children:n,...e},t){const a=new c.Control.Layers(void 0,void 0,e);return f(a,y(t,{layersControl:a}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),$=U(D),B=F($);function j(o){return function(e){const t=P(),a=u.useRef(e),[r,l]=u.useState(null),{layersControl:s,map:i}=t,d=u.useCallback(C=>{s!=null&&(a.current.checked&&i.addLayer(C),o(s,C,a.current.name),l(C))},[s,i]),m=u.useCallback(C=>{s==null||s.removeLayer(C),l(null)},[s]),O=u.useMemo(()=>y(t,{layerContainer:{addLayer:d,removeLayer:m}}),[t,d,m]);return u.useEffect(()=>{r!==null&&a.current!==e&&(e.checked===!0&&(a.current.checked==null||a.current.checked===!1)?i.addLayer(r):a.current.checked===!0&&(e.checked==null||e.checked===!1)&&i.removeLayer(r),a.current=e)}),e.children?g.createElement(S,{value:O},e.children):null}}B.BaseLayer=j(function(n,e,t){n.addBaseLayer(e,t)});B.Overlay=j(function(n,e,t){n.addOverlay(e,t)});function E(){return E=Object.assign||function(o){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}return o},E.apply(this,arguments)}function q({bounds:o,boundsOptions:n,center:e,children:t,className:a,id:r,placeholder:l,style:s,whenReady:i,zoom:d,...m},O){const[C]=u.useState({className:a,id:r,style:s}),[p,A]=u.useState(null);u.useImperativeHandle(O,()=>(p==null?void 0:p.map)??null,[p]);const x=u.useCallback(M=>{if(M!==null&&p===null){const L=new c.Map(M,m);e!=null&&d!=null?L.setView(e,d):o!=null&&L.fitBounds(o,n),i!=null&&L.whenReady(i),A(W(L))}},[]);u.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const J=p?g.createElement(S,{value:p},t):l??null;return g.createElement("div",E({},C,{ref:x}),J)}const me=u.forwardRef(q),pe=w(function({position:n,...e},t){const a=new c.Marker(n,e);return f(a,y(t,{overlayContainer:a}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==t.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==t.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),Y=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function T(o,n){const{[n]:e,...t}=o;return t}function K(o,n,e){if(Y.indexOf(o)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${o}`);if(e.map.getPane(o)!=null)throw new Error(`A pane with this name already exists: ${o}`);const t=n.pane??e.pane,a=t?e.map.getPane(t):void 0,r=e.map.createPane(o,a);return n.className!=null&&Z(r,n.className),n.style!=null&&Object.keys(n.style).forEach(l=>{r.style[l]=n.style[l]}),r}function Q(o,n){const[e]=u.useState(o.name),[t,a]=u.useState(null);u.useImperativeHandle(n,()=>t,[t]);const r=P(),l=u.useMemo(()=>({...r,pane:e}),[r]);return u.useEffect(()=>(a(K(e,o,r)),function(){var d;const i=r.map.getPane(e);(d=i==null?void 0:i.remove)==null||d.call(i),r.map._panes!=null&&(r.map._panes=T(r.map._panes,e),r.map._paneRenderers=T(r.map._paneRenderers,e))}),[]),o.children!=null&&t!=null?k.createPortal(g.createElement(S,{value:l},o.children),t):null}const Ce=u.forwardRef(Q),ve=v(function({positions:n,...e},t){const a=new c.Polygon(n,e);return f(a,y(t,{overlayContainer:a}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Le=v(function({positions:n,...e},t){const a=new c.Polyline(n,e);return f(a,y(t,{overlayContainer:a}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),ge=R(function(n,e){const t=new c.Popup(n,e.overlayContainer);return f(t,e)},function(n,e,{position:t},a){u.useEffect(function(){const{instance:l}=n;function s(d){d.popup===l&&(l.update(),a(!0))}function i(d){d.popup===l&&a(!1)}return e.map.on({popupopen:s,popupclose:i}),e.overlayContainer==null?(t!=null&&l.setLatLng(t),l.openOn(e.map)):e.overlayContainer.bindPopup(l),function(){var m;e.map.off({popupopen:s,popupclose:i}),(m=e.overlayContainer)==null||m.unbindPopup(),e.map.removeLayer(l)}},[n,e,a,t])}),we=v(function({bounds:n,...e},t){const a=new c.Rectangle(n,e);return f(a,y(t,{overlayContainer:a}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),Oe=b(function(n){return new c.Control.Scale(n)}),X=_(function(n,e){const{attributes:t,bounds:a,...r}=n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("xmlns","http://www.w3.org/2000/svg"),t!=null&&Object.keys(t).forEach(i=>{l.setAttribute(i,t[i])});const s=new c.SVGOverlay(l,a,r);return f(s,e,l)},h),ee=z(X);function ne({children:o,...n},e){const{instance:t,container:a}=ee(n).current;return u.useImperativeHandle(e,()=>t),a==null||o==null?null:k.createPortal(o,a)}const Ee=u.forwardRef(ne),Pe=I(function({url:n,...e},t){const a=new c.TileLayer(n,H(e,t));return f(a,t)},function(n,e,t){N(n,e,t);const{url:a}=e;a!=null&&a!==t.url&&n.setUrl(a)}),be=R(function(n,e){const t=new c.Tooltip(n,e.overlayContainer);return f(t,e)},function(n,e,{position:t},a){u.useEffect(function(){const l=e.overlayContainer;if(l==null)return;const{instance:s}=n,i=m=>{m.tooltip===s&&(t!=null&&s.setLatLng(t),s.update(),a(!0))},d=m=>{m.tooltip===s&&a(!1)};return l.on({tooltipopen:i,tooltipclose:d}),l.bindTooltip(s),function(){l.off({tooltipopen:i,tooltipclose:d}),l._map!=null&&l.unbindTooltip()}},[n,e,a,t])}),he=w(function({bounds:n,url:e,...t},a){var l;const r=new c.VideoOverlay(e,n,t);return t.play===!0&&((l=r.getElement())==null||l.play()),f(r,y(a,{overlayContainer:r}))},function(n,e,t){h(n,e,t),typeof e.url=="string"&&e.url!==t.url&&n.setUrl(e.url);const a=n.getElement();a!=null&&(e.play===!0&&!t.play?a.play():!e.play&&t.play===!0&&a.pause())}),Se=I(function({eventHandlers:n,params:e={},url:t,...a},r){const l=new c.TileLayer.WMS(t,{...e,...H(a,r)});return f(l,r)},function(n,e,t){N(n,e,t),e.params!=null&&e.params!==t.params&&n.setParams(e.params)}),Me=b(function(n){return new c.Control.Zoom(n)});export{ue as AttributionControl,ce as Circle,ie as CircleMarker,se as FeatureGroup,fe as GeoJSON,de as ImageOverlay,ye as LayerGroup,B as LayersControl,me as MapContainer,pe as Marker,Ce as Pane,ve as Polygon,Le as Polyline,ge as Popup,we as Rectangle,Ee as SVGOverlay,Oe as ScaleControl,Pe as TileLayer,be as Tooltip,he as VideoOverlay,Se as WMSTileLayer,Me as ZoomControl,V as useMap,re as useMapEvent,le as useMapEvents};
